#mymodal.modal.fade
    .modal-dialog
        .modal-content
            .modal-header
                button.close(type='button', data-dismiss='modal', aria-label='Close')
                    span(aria-hidden='true') ?
                h4.modal-title Modal title
            .modal-body
                form.form-horizontal(name='formLogin')
                    .form-group
                        label.col-lg-2.control-label(for='inputLogin') Login
                        .col-lg-10
                            input.form-control#inputLogin(autocomplete=off, placeholder='login', type='text', value='', name='name')
                        label.col-lg-2.m15.control-label(for='inputPassword') Password
                        .col-lg-10
                            input.form-control.m15#inputPassword(autocomplete=off, placeholder='password', type='password', value='', name='pass')
                        .btn.pull-right
                            button.btn.btn-default(type='button', data-dismiss='modal') Неприкасаемая кнопка
                            button.btn.btn-primary(type='submit') Войти в чат
            .modal-footer
                span.error

    script.
        $(document.forms['formLogin']).on('submit', function(){
            var form = $(this);
            $('.error', form).html('');
            $('#mymodal').modal('hide');
            console.log('in script');
            $.ajax({
                url: "/auth",
                method: "POST",
                data: form.serialize(),
                complete: function(data) {
                    $('#mymodal').modal('hide');
                    alert('in complete ajax');
                    window.location.href = '/test';
                    console.log('data=' + JSON.stringify(data));
                },
                statusCode: {
                    200: function () {
                        form.html("Yoe are in site").addClass('alert-success');
                        alert('in status code');
                        //console.log('id=' + id.id);
                        window.location.href = '/test';
                        //      window.location.href = '/users:'+id;
                    },
                    403: function (jqXHR) {
                        var error = JSON.parse(jqXHR.responseText);
                        $('.error', form).html(error.message);
                    }
                }
            });
        });
